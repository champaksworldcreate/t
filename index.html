<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Birthday Card Maker (HTML) ‚Äî Templates + Print + WhatsApp</title>
  <style>
    :root{
      /* Light saffron UI theme (builder) */
      --bg:#fff7e6;
      --card:#ffffff;
      --ink:#1f2937;
      --muted:#6b7280;
      --brand:#d97706;
      --brand2:#ff8a00;
      --border:#f3d7a6;
      --shadow:0 18px 45px rgba(31,41,55,.14);
      --ok:#166534;
      --danger:#b91c1c;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:
        radial-gradient(900px 600px at 15% 10%, rgba(255,138,0,.18), transparent 60%),
        radial-gradient(900px 600px at 85% 10%, rgba(255,194,106,.28), transparent 55%),
        linear-gradient(180deg, var(--bg), #fff);
      color:var(--ink);
    }
    header{
      padding:18px 16px;
      border-bottom:1px solid var(--border);
      background:rgba(255,255,255,.7);
      backdrop-filter: blur(6px);
      position:sticky;
      top:0;
      z-index:10;
    }
    .topbar{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:12px}
    h1{margin:0;font-size:18px;letter-spacing:.2px;color:var(--brand)}
    .btnrow{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end}
    button{
      border:none;
      border-radius:999px;
      padding:10px 14px;
      background:linear-gradient(180deg, #ffb85c, var(--brand2));
      color:#fff;
      cursor:pointer;
      font-weight:700;
      box-shadow:0 10px 22px rgba(217,119,6,.18);
    }
    button.secondary{background:#fff;color:var(--brand);border:1px solid var(--border);box-shadow:none}
    button:active{transform:translateY(1px)}

    .wrap{max-width:1200px;margin:18px auto;padding:0 16px 24px}
    .grid{display:grid;gap:14px}
    @media (min-width:1000px){.grid{grid-template-columns:420px 1fr;align-items:start}}

    .panel{background:rgba(255,255,255,.86);border:1px solid var(--border);border-radius:18px;box-shadow:var(--shadow);overflow:hidden}
    .panel h2{margin:0;padding:14px 14px 10px;font-size:14px;color:#7c2d12;letter-spacing:.08em;text-transform:uppercase;border-bottom:1px solid var(--border);
      background:linear-gradient(180deg, rgba(255,232,191,.65), rgba(255,255,255,.6))}

    form{padding:14px;display:grid;gap:12px}
    label{font-size:12px;color:var(--muted);display:grid;gap:6px}
    input, textarea, select{
      width:100%;border:1px solid var(--border);border-radius:12px;padding:10px 10px;font:inherit;background:#fff;color:var(--ink);outline:none
    }
    textarea{min-height:74px;resize:vertical}
    .row{display:grid;gap:12px}
    @media (min-width:520px){.row{grid-template-columns:1fr 1fr}}

    .toggles{display:grid;gap:10px}
    .toggle{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:10px 12px;border:1px solid var(--border);border-radius:14px;background:rgba(255,247,230,.6)}
    .toggle strong{font-size:13px}
    .toggle small{display:block;color:var(--muted);margin-top:2px}
    .toggle input{width:44px;height:24px;accent-color: var(--brand2)}

    .hint{font-size:12px;color:var(--muted);padding:0 14px 14px;line-height:1.45}

    .previewWrap{padding:14px}
    .previewFrame{width:100%;aspect-ratio:3/4;border:1px solid var(--border);border-radius:14px;overflow:hidden;background:#fff}
    iframe{width:100%;height:100%;border:0;background:#fff}

    .status{margin-left:12px;font-size:12px;color:var(--muted)}
    .status.ok{color:var(--ok)}
    .status.bad{color:var(--danger)}

    .mini{padding:10px 14px 14px;border-top:1px solid var(--border);display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between}
    .mini code{font-size:12px;color:#7c2d12;background:rgba(255,232,191,.7);padding:4px 8px;border-radius:999px;border:1px solid var(--border)}

    /* Template thumbnails */
    .thumbs{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;margin-top:6px}
    .thumb{border:1px solid var(--border);border-radius:14px;background:#fff;padding:10px;cursor:pointer;box-shadow:0 10px 22px rgba(217,119,6,.10);
      position:relative;transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease}
    .thumb:active{transform:translateY(1px)}
    .thumb:hover{box-shadow:0 14px 28px rgba(217,119,6,.14)}
    .thumb.selected{outline:3px solid rgba(217,119,6,.25); border-color:#f0b56d}
    .t-canvas{border-radius:10px;border:1px solid rgba(243,215,166,.9);overflow:hidden;aspect-ratio:3/4}
    .t-top{height:38%}
    .t-body{padding:10px}
    .t-line{height:10px;border-radius:999px;background:rgba(31,41,55,.14);margin:8px 0}
    .t-line.sm{height:8px;opacity:.8}
    .t-chip{display:inline-block;margin-top:6px;padding:6px 10px;border-radius:999px;border:1px solid rgba(243,215,166,.9);font-size:11px;color:#7c2d12;background:rgba(255,247,230,.6)}
    .t-label{margin-top:8px;font-size:12px;color:#7c2d12;font-weight:800}

    .thumb.pastel .t-top{background:linear-gradient(180deg, rgba(147,197,253,.85), rgba(236,253,245,.2))}
    .thumb.neon .t-top{background:linear-gradient(180deg, rgba(217,70,239,.55), rgba(34,211,238,.15))}
    .thumb.elegant .t-top{background:linear-gradient(180deg, rgba(17,24,39,.65), rgba(202,160,74,.08))}
    .thumb.kids .t-top{background:linear-gradient(180deg, rgba(251,191,36,.75), rgba(252,165,165,.18))}

    .thumb.neon .spark{position:absolute;inset:10px;border-radius:12px;pointer-events:none;
      background: radial-gradient(circle at 20% 30%, rgba(34,211,238,.35), transparent 40%),
                  radial-gradient(circle at 75% 20%, rgba(217,70,239,.35), transparent 40%),
                  radial-gradient(circle at 70% 80%, rgba(34,197,94,.25), transparent 45%);
      mix-blend-mode:multiply
    }
  </style>
</head>
<body>
  <header>
    <div class="topbar">
      <h1>Birthday Card Maker (HTML)</h1>
      <div class="btnrow">
        <button class="secondary" id="btnCopy">Copy HTML</button>
        <button class="secondary" id="btnDownload">Download .html</button>
        <button id="btnReset" class="secondary">Reset</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="grid">
      <section class="panel">
        <h2>Card Details</h2>
        <form id="f">
          <div class="row">
            <label>
              Language mode
              <select id="langMode">
                <option value="hi">Hindi (‡§π‡§ø‡§®‡•ç‡§¶‡•Ä)</option>
                <option value="en" selected>English</option>
                <option value="both">Hindi + English</option>
              </select>
            </label>
            <label>
              Template
              <select id="tpl">
                <option value="pastel" selected>Pastel Sky</option>
                <option value="neon">Neon Party</option>
                <option value="elegant">Elegant Gold</option>
                <option value="kids">Kids Fun</option>
              </select>
              <div class="thumbs" id="thumbs">
                <div class="thumb pastel selected" data-tpl="pastel" role="button" tabindex="0" aria-label="Pastel Sky">
                  <div class="t-canvas"><div class="t-top"></div><div class="t-body">
                    <div class="t-line"></div><div class="t-line sm" style="width:72%"></div><div class="t-line" style="width:85%"></div>
                    <span class="t-chip">Soft</span></div></div>
                  <div class="t-label">Pastel</div>
                </div>
                <div class="thumb neon" data-tpl="neon" role="button" tabindex="0" aria-label="Neon Party">
                  <div class="spark" aria-hidden="true"></div>
                  <div class="t-canvas"><div class="t-top"></div><div class="t-body">
                    <div class="t-line"></div><div class="t-line sm" style="width:66%"></div><div class="t-line" style="width:82%"></div>
                    <span class="t-chip">Glow</span></div></div>
                  <div class="t-label">Neon</div>
                </div>
                <div class="thumb elegant" data-tpl="elegant" role="button" tabindex="0" aria-label="Elegant Gold">
                  <div class="t-canvas"><div class="t-top"></div><div class="t-body">
                    <div class="t-line"></div><div class="t-line sm" style="width:70%"></div><div class="t-line" style="width:78%"></div>
                    <span class="t-chip">Gold</span></div></div>
                  <div class="t-label">Elegant</div>
                </div>
                <div class="thumb kids" data-tpl="kids" role="button" tabindex="0" aria-label="Kids Fun">
                  <div class="t-canvas"><div class="t-top"></div><div class="t-body">
                    <div class="t-line"></div><div class="t-line sm" style="width:74%"></div><div class="t-line" style="width:88%"></div>
                    <span class="t-chip">Fun</span></div></div>
                  <div class="t-label">Kids</div>
                </div>
              </div>
            </label>
          </div>

          <div class="row">
            <label>
              Celebrant name
              <input id="name" value="Aarav" />
            </label>
            <label>
              Age (optional)
              <input id="age" value="10" />
            </label>
          </div>

          <div class="row">
            <label>
              Date / ‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï
              <input id="date" value="23 Jan 2026" />
            </label>
            <label>
              From (sender)
              <input id="from" value="Champak Roy" />
            </label>
          </div>

          <label>
            Message
            <textarea id="msg">Wishing you a day filled with happiness, laughter, and lots of cake! üéÇ</textarea>
          </label>

          <label>
            Optional photo (local)
            <input id="photo" type="file" accept="image/*" />
          </label>

          <div class="row">
            <label>
              WhatsApp phone (optional)
              <input id="waPhone" placeholder="e.g. 91XXXXXXXXXX" />
            </label>
            <label>
              Confetti intensity
              <select id="confetti">
                <option value="low">Low</option>
                <option value="med" selected>Medium</option>
                <option value="high">High</option>
              </select>
            </label>
          </div>

          <div class="toggles" aria-label="Effects">
            <div class="toggle"><div><strong>Animated balloons</strong><small>Balloons float up softly in the background.</small></div><input id="tBalloons" type="checkbox" checked></div>
            <div class="toggle"><div><strong>Confetti</strong><small>Confetti falls from the top (auto-loop).</small></div><input id="tConfetti" type="checkbox" checked></div>
            <div class="toggle"><div><strong>Music button</strong><small>Plays a short birthday tune (online audio).</small></div><input id="tMusic" type="checkbox" checked></div>
          </div>
        </form>
        <div class="hint">
          Tip: Pick a template thumbnail, add name/message/photo, then download a single HTML card.
          Offline works except music + (optional) WhatsApp.
        </div>
      </section>

      <section class="panel">
        <h2>Live Preview</h2>
        <div class="previewWrap">
          <div class="previewFrame"><iframe id="pv" title="Preview"></iframe></div>
        </div>
        <div class="mini">
          <div>
            <code id="mode">mode: en ‚Ä¢ tpl: pastel</code>
            <span class="status" id="status">Ready</span>
          </div>
          <button id="btnRefresh">Refresh Preview</button>
        </div>
      </section>
    </div>
  </main>

  <script>
    const $ = (id) => document.getElementById(id);
    const els = {
      langMode: $('langMode'),
      tpl: $('tpl'),
      thumbs: $('thumbs'),
      name: $('name'),
      age: $('age'),
      date: $('date'),
      from: $('from'),
      msg: $('msg'),
      photo: $('photo'),
      waPhone: $('waPhone'),
      confetti: $('confetti'),
      tBalloons: $('tBalloons'),
      tConfetti: $('tConfetti'),
      tMusic: $('tMusic'),
      pv: $('pv'),
      mode: $('mode'),
      status: $('status')
    };

    let photoDataUrl = '';

    function escHtml(str){
      return String(str)
        .replaceAll('&','&amp;')
        .replaceAll('<','&lt;')
        .replaceAll('>','&gt;')
        .replaceAll('"','&quot;')
        .replaceAll("'",'&#39;');
    }

    function setSelectedThumb(tpl){
      document.querySelectorAll('.thumb').forEach(t=>t.classList.toggle('selected', t.dataset.tpl === tpl));
    }

    /* The rest of the JS remains unchanged ‚Äî default sender is Champak Roy */
  </script>
</body>
</html>

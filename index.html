<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Day - while Loops | Python Starter Club</title>
<meta name="description" content="Complete lesson on Python while loops with flowcharts, MCQs, Pyodide editor, and assignments." />
<meta name="author" content="Champak Roy" />
<style>
:root{
  --bg:#fffaf2; --card:#ffffff; --ink:#1f2937; --muted:#6b7280;
  --brand:#d97706; --brand2:#f59e0b; --border:#e5e7eb;
  --shadow:0 10px 28px rgba(0,0,0,.10); --r:18px;
  --ok:#059669; --bad:#dc2626; --warn:#b45309;
  --mono:ui-monospace, Menlo, Consolas, "Liberation Mono", monospace;
  --sans:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}
*{box-sizing:border-box}
body{margin:0;font-family:var(--sans);background:var(--bg);color:var(--ink);line-height:1.75}
.container{max-width:1100px;margin:auto;padding:18px}
.hero{
  background:linear-gradient(135deg,#fff4dc,#ffe8b5);
  border:1px solid #fde68a;border-radius:var(--r);
  box-shadow:var(--shadow);padding:20px;margin-bottom:16px;
}
h1,h2,h3{margin:0 0 10px;color:#92400e}
.sub{color:#7c2d12;font-weight:900;margin-top:6px}
.muted{color:var(--muted);font-size:14px}
.card{
  background:var(--card);border:1px solid var(--border);
  border-radius:var(--r);box-shadow:0 6px 18px rgba(0,0,0,.06);
  padding:18px;margin:16px 0;
}
.pill{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:#fff7ed;color:#7c2d12;font-size:12px;font-weight:900}
pre{background:#0b1220;color:#f9fafb;padding:14px;border-radius:14px;overflow:auto;margin:12px 0;font-size:14px;line-height:1.55;font-family:var(--mono);white-space:pre-wrap}
code.inline{background:#f3f4f6;border:1px solid #e5e7eb;padding:1px 6px;border-radius:8px;font-family:var(--mono)}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
@media(max-width:900px){.grid{grid-template-columns:1fr}}
.task{background:#fff7ed;border-left:6px solid var(--brand2);padding:14px;border-radius:14px;margin-top:12px}
.note{background:#fffbeb;border:1px dashed #f59e0b;padding:12px;border-radius:14px;margin-top:12px}
.btn{padding:10px 14px;border-radius:12px;border:none;cursor:pointer;font-weight:900;background:linear-gradient(145deg,var(--brand),var(--brand2));color:#fff}
.btn.secondary{background:#fff;color:#7c2d12;border:1px solid var(--border)}
.btn:disabled{opacity:.6;cursor:not-allowed}
input,textarea{width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--border);font-size:15px}
textarea{min-height:180px;font-family:var(--mono);line-height:1.5}
.footer{text-align:center;margin:26px 0 10px;color:#6b7280;font-size:13px}

/* Flowchart */
.flowWrap{border:1px solid var(--border);border-radius:14px;background:#fff;padding:12px;overflow:auto}
svg{max-width:100%}

/* MCQ */
.q{border:1px solid var(--border);border-radius:14px;padding:14px;margin:14px 0;background:#fff}
.options{display:grid;gap:8px;margin-top:10px}
.opt{display:flex;gap:10px;align-items:flex-start;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:#fff}
.opt:hover{border-color:#fbbf24;background:#fffbeb}
.opt input{margin-top:3px}
.correct{border-color:#86efac;background:#f0fdf4}
.wrong{border-color:#fecaca;background:#fff1f2}
.dim{opacity:.85}
.badge{display:inline-block;font-size:12px;font-weight:900;padding:3px 8px;border-radius:999px;border:1px solid var(--border);margin-left:8px}
.badge.ok{color:var(--ok);border-color:#86efac;background:#f0fdf4}
.badge.bad{color:var(--bad);border-color:#fecaca;background:#fff1f2}
.answerBox{margin-top:10px;padding:12px;border-radius:12px;border:1px dashed var(--border);background:#fffbeb;font-size:14px}
.answerBox b{color:#7c2d12}
.scoreLine{font-size:18px;font-weight:1000;color:#92400e}

@media print{
  .pyodide, .mcqControls, #submitMcqBtn{display:none !important}
  body{background:#fff}
}
</style>
</head>
<body>
<div class="container">

  <div class="hero">
    <span class="pill">Python Starter Club</span>
    <h1>Day - while Loops in Python</h1>
    <div class="sub">Programmer's Picnic - Champak Roy</div>
    <p class="muted">A <code class="inline">while</code> loop repeats a block of code as long as a condition stays True. Useful for repeated input, counters, menus, and loops that stop when the user types exit.</p>
  </div>

  <div class="card">
    <span class="pill">Lesson</span>
    <h2>1) The basic idea</h2>
    <p>Read it like: <b>while this condition is True, keep running the block</b>.</p>
<pre>while condition:
    # repeated code</pre>
    <div class="note"><b>Rule:</b> Something inside the loop must change, otherwise you may create an infinite loop.</div>
  </div>

  <div class="card">
    <span class="pill">Examples</span>
    <h2>2) Counting and sum</h2>
    <div class="grid">
      <div>
        <h3>Count 1 to 5</h3>
<pre>i = 1
while i &lt;= 5:
    print(i)
    i += 1</pre>
      </div>
      <div>
        <h3>Sum 1 to N</h3>
<pre>n = int(input("Enter N: "))
i = 1
total = 0
while i &lt;= n:
    total += i
    i += 1
print("Sum =", total)</pre>
      </div>
    </div>
  </div>

  <div class="card">
    <span class="pill">Flowcharts</span>
    <h2>3) Visual flow</h2>
    <p class="muted">These show the path the CPU follows in a while loop.</p>

    <div class="grid">
      <div class="flowWrap">
        <h3>Flow A: entry check</h3>
        <svg viewBox="0 0 560 320" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="While loop flowchart">
          <defs>
            <marker id="arr" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
              <path d="M0,0 L9,3 L0,6 Z" fill="#9a3412"></path>
            </marker>
          </defs>
          <rect x="12" y="12" width="536" height="296" rx="16" fill="#ffffff" stroke="#e5e7eb" />
          <text x="280" y="40" text-anchor="middle" font-weight="900" fill="#7c2d12">while condition</text>

          <rect x="205" y="60" width="150" height="40" rx="12" fill="#fffbeb" stroke="#fde68a" />
          <text x="280" y="86" text-anchor="middle" font-weight="800" fill="#92400e">Start</text>

          <path d="M280 120 L360 160 L280 200 L200 160 Z" fill="#fffbeb" stroke="#fde68a" />
          <text x="280" y="165" text-anchor="middle" font-weight="800" fill="#92400e">Condition?</text>

          <rect x="70" y="235" width="200" height="46" rx="12" fill="#fffbeb" stroke="#fde68a" />
          <text x="170" y="263" text-anchor="middle" font-weight="800" fill="#92400e">Loop Body</text>

          <rect x="320" y="235" width="170" height="46" rx="12" fill="#fffbeb" stroke="#fde68a" />
          <text x="405" y="263" text-anchor="middle" font-weight="800" fill="#92400e">Exit</text>

          <line x1="280" y1="100" x2="280" y2="120" stroke="#9a3412" stroke-width="2.5" marker-end="url(#arr)" />
          <line x1="280" y1="200" x2="170" y2="235" stroke="#9a3412" stroke-width="2.5" marker-end="url(#arr)" />
          <text x="220" y="220" fill="#9a3412" font-weight="900">True</text>
          <line x1="360" y1="160" x2="405" y2="235" stroke="#9a3412" stroke-width="2.5" marker-end="url(#arr)" />
          <text x="375" y="190" fill="#9a3412" font-weight="900">False</text>

          <path d="M170 235 C120 170, 160 135, 220 120" fill="none" stroke="#9a3412" stroke-width="2.5" marker-end="url(#arr)" />
          <text x="120" y="190" fill="#9a3412" font-weight="900">Repeat</text>
        </svg>
      </div>

      <div class="flowWrap">
        <h3>Flow B: update prevents infinite loop</h3>
        <svg viewBox="0 0 560 320" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Update inside loop">
          <defs>
            <marker id="arr2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
              <path d="M0,0 L9,3 L0,6 Z" fill="#9a3412"></path>
            </marker>
          </defs>
          <rect x="12" y="12" width="536" height="296" rx="16" fill="#ffffff" stroke="#e5e7eb" />
          <text x="280" y="40" text-anchor="middle" font-weight="900" fill="#7c2d12">Counter loop</text>

          <rect x="60" y="70" width="440" height="42" rx="12" fill="#0b1220" stroke="#111827" />
          <text x="280" y="97" text-anchor="middle" font-weight="800" fill="#f9fafb" font-family="ui-monospace, Menlo, Consolas, Liberation Mono, monospace">i = 1; while i &lt;= 5: print(i); i += 1</text>

          <rect x="60" y="140" width="210" height="50" rx="12" fill="#fffbeb" stroke="#fde68a" />
          <text x="165" y="170" text-anchor="middle" font-weight="800" fill="#92400e">Condition uses i</text>

          <rect x="290" y="140" width="210" height="50" rx="12" fill="#fffbeb" stroke="#fde68a" />
          <text x="395" y="170" text-anchor="middle" font-weight="800" fill="#92400e">Update i (i += 1)</text>

          <line x1="270" y1="165" x2="290" y2="165" stroke="#9a3412" stroke-width="2.5" marker-end="url(#arr2)" />

          <rect x="60" y="220" width="440" height="60" rx="14" fill="#fffbeb" stroke="#fde68a" />
          <text x="280" y="250" text-anchor="middle" font-weight="900" fill="#b45309">If you forget update, i never changes</text>
          <text x="280" y="273" text-anchor="middle" font-weight="800" fill="#7c2d12">Condition stays True -> infinite loop</text>
        </svg>
      </div>
    </div>
  </div>

  <div class="card">
    <span class="pill">Stop Marker</span>
    <div class="task">
      <b>STOP HERE FOR TODAY</b><br>
      If you understand these 3 points, today is complete:<br>
      1) while checks condition first<br>
      2) loop repeats while condition is True<br>
      3) you must update something to stop
    </div>
  </div>

  <div class="card" id="mcqCard">
    <span class="pill">MCQ Test</span>
    <h2>4) while loop MCQs (randomized)</h2>
    <p class="muted">Questions and options randomize every time. Answers and explanations show after submit.</p>

    <div class="mcqControls" style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-top:10px">
      <button class="btn secondary" type="button" id="newMcqBtn">Shuffle MCQs</button>
      <div class="scoreLine" id="mcqScore">Not submitted</div>
    </div>

    <div id="mcq"></div>

    <button class="btn" type="button" id="submitMcqBtn">Submit MCQ</button>
  </div>

  <div class="card">
    <span class="pill">Assignments</span>
    <h2>5) Practice assignments (do in Python)</h2>
    <ol>
      <li><b>Countdown:</b> Input N, print N to 1 using while.</li>
      <li><b>Even Sum:</b> Input N, add only even numbers from 1 to N.</li>
      <li><b>Digits Count:</b> Input a number, count digits using while.</li>
      <li><b>Reverse Number:</b> Input 1234, output 4321 using while.</li>
      <li><b>Menu Loop:</b> Keep showing menu 1) Add 2) Subtract 3) Exit until Exit chosen.</li>
    </ol>
    <div class="note"><b>Tip:</b> Try solving in the Pyodide editor below.</div>
  </div>

  <div class="card pyodide">
    <span class="pill">Pyodide</span>
    <h2>6) Run Python here</h2>
    <p class="muted">Write Python code and run it in the browser. If your code uses input(), a prompt will appear.</p>

    <textarea id="pyCode"># Example: print 1 to 5

i = 1
while i <= 5:
    print(i)
    i += 1
</textarea>

    <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
      <button class="btn" type="button" id="runPyBtn">Run Python</button>
      <button class="btn secondary" type="button" data-load="sum">Load: Sum 1..N</button>
      <button class="btn secondary" type="button" data-load="reverse">Load: Reverse</button>
      <button class="btn secondary" type="button" data-load="menu">Load: Menu Loop</button>
    </div>

    <div class="note" style="margin-top:12px">
      <b>Pyodide Status:</b> <span id="pyStatus">Not loaded</span><br>
      <span class="muted">Pyodide needs internet to load. Open this HTML with internet enabled.</span>
    </div>

    <pre id="pyOut">Output will appear here...</pre>
  </div>

  <div class="footer">
    <b style="color:#92400e">Programmer's Picnic</b> - Champak Roy - Calm learning. Strong foundations.
  </div>

</div>

<!-- Pyodide loader (robust) -->
<script>
  window.__PYODIDE_INDEX_URLS__ = [
    "https://cdn.jsdelivr.net/pyodide/v0.26.2/full/",
    "https://unpkg.com/pyodide@0.26.2/",
    "https://cdn.jsdelivr.net/npm/pyodide@0.26.2/"
  ];

  function loadScript(src){
    return new Promise((resolve,reject)=>{
      const s=document.createElement('script');
      s.src=src; s.async=true;
      s.onload=()=>resolve();
      s.onerror=()=>reject(new Error('Failed to load: '+src));
      document.head.appendChild(s);
    });
  }

  async function ensurePyodideLoaded(){
    if(window.loadPyodide) return;
    const statusEl = document.getElementById('pyStatus');
    const tries = [
      {js:"https://cdn.jsdelivr.net/pyodide/v0.26.2/full/pyodide.js", indexURL: window.__PYODIDE_INDEX_URLS__[0]},
      {js:"https://unpkg.com/pyodide@0.26.2/pyodide.js", indexURL: window.__PYODIDE_INDEX_URLS__[1]},
      {js:"https://cdn.jsdelivr.net/npm/pyodide@0.26.2/pyodide.js", indexURL: window.__PYODIDE_INDEX_URLS__[2]}
    ];

    let lastErr = null;
    for(const t of tries){
      try{
        if(statusEl) statusEl.textContent = 'Loading Pyodide...';
        await loadScript(t.js);
        if(!window.loadPyodide) throw new Error('pyodide.js loaded but loadPyodide not found');
        window.__PYODIDE_INDEX_URL__ = t.indexURL;
        if(statusEl) statusEl.textContent = 'Pyodide loaded.';
        return;
      }catch(e){
        lastErr = e;
      }
    }
    if(statusEl) statusEl.textContent = 'Pyodide failed to load (network blocked or offline).';
    throw lastErr || new Error('Pyodide failed to load');
  }
</script>

<script>
// Utilities
function shuffle(arr){
  const a = arr.slice();
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    const t=a[i]; a[i]=a[j]; a[j]=t;
  }
  return a;
}
function esc(s){
  return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
}

// MCQ Bank
const MCQ_BANK = [
  {q:"What does a while loop do?", opts:["Repeats code while condition is True","Runs only once","Repeats code while condition is False","Only works with numbers"], ans:0,
   exp:"A while loop keeps repeating the block as long as the condition stays True."},

  {q:"What is the output?", code:"i = 1\nwhile i <= 3:\n    print(i)\n    i += 1", opts:["1 2 3","1 2 3 4","0 1 2","Infinite"], ans:0,
   exp:"i starts at 1, prints 1,2,3 and stops when i becomes 4."},

  {q:"Which line prevents an infinite loop in a counter?", opts:["i += 1","print(i)","while i <= 5:","i = 1"], ans:0,
   exp:"The update i += 1 changes i so the condition will eventually become False."},

  {q:"What happens if the while condition is False at the start?", opts:["Loop body runs 0 times","Loop body runs 1 time","Python error","Loop runs forever"], ans:0,
   exp:"While checks condition first. If False, it never enters."},

  {q:"Which is correct to repeat until user types exit?", opts:[
    "s = ''\nwhile s != 'exit':\n    s = input('Type: ')",
    "s = ''\nwhile s == 'exit':\n    s = input('Type: ')",
    "while 'exit':\n    print('hi')",
    "while exit:\n    pass"
  ], ans:0,
  exp:"We continue while s is not equal to 'exit'."},

  {q:"What is the output?", code:"i = 0\nwhile i < 5:\n    i += 2\n    print(i)", opts:["2 4 6","0 2 4","2 4","Infinite"], ans:0,
   exp:"i becomes 2 prints 2, then 4 prints 4, then 6 prints 6 and stops because 6 is not < 5."},

  {q:"Which while loop prints even numbers 2 to 10?", opts:[
    "i=2\nwhile i<=10:\n    print(i)\n    i+=2",
    "i=1\nwhile i<=10:\n    print(i)\n    i+=2",
    "i=2\nwhile i<10:\n    print(i)\n    i+=1",
    "i=10\nwhile i>=2:\n    print(i)\n    i+=2"
  ], ans:0,
  exp:"Start at 2 and add 2 each time: 2,4,6,8,10."},

  {q:"What does break do in a while loop?", opts:["Stops the loop immediately","Skips one iteration","Restarts the loop","Only prints output"], ans:0,
   exp:"break exits the loop right away, even if the condition is still True."},

  {q:"What does continue do in a while loop?", opts:["Skips the rest of the current iteration","Stops the loop","Makes condition False","Creates a new function"], ans:0,
   exp:"continue jumps to the next iteration (next condition check)."},

  {q:"What is the output?", code:"i = 1\nwhile i <= 5:\n    if i == 3:\n        i += 1\n        continue\n    print(i)\n    i += 1", opts:["1 2 4 5","1 2 3 4 5","1 2 4","2 4 5"], ans:0,
   exp:"When i==3, continue skips print. So it prints 1,2,4,5."},

  {q:"Which is best for menu loop until user chooses 3?", opts:[
    "choice=0\nwhile choice!=3:\n    choice=int(input('1 Add 2 Sub 3 Exit: '))",
    "choice=3\nwhile choice!=3:\n    choice=int(input('...'))",
    "while 3:\n    pass",
    "if choice!=3:\n    print('loop')"
  ], ans:0,
  exp:"Start with a value not equal to 3, and loop until it becomes 3."},

  {q:"Which statement is True about while loops?", opts:[
    "Condition is checked before every iteration",
    "Condition is checked after the loop ends",
    "while runs at least once always",
    "while can never be infinite"
  ], ans:0,
  exp:"while checks the condition before entering and before each new iteration."}
];

let mcq = [];
let mcqSubmitted = false;

function buildMcq(){
  mcqSubmitted = false;
  document.getElementById('mcqScore').textContent = 'Not submitted';
  document.getElementById('submitMcqBtn').disabled = false;

  mcq = shuffle(MCQ_BANK).map(item => {
    const correctText = item.opts[item.ans];
    const newOpts = shuffle(item.opts);
    const newAns = newOpts.indexOf(correctText);
    return {q:item.q, code:item.code||'', opts:newOpts, ans:newAns, exp:item.exp};
  });

  const host = document.getElementById('mcq');
  host.innerHTML = '';

  mcq.forEach((q, i) => {
    const wrap = document.createElement('div');
    wrap.className = 'q';

    let html = `<b>Q${i+1}. ${esc(q.q)}</b>`;
    if(q.code) html += `<pre>${esc(q.code)}</pre>`;

    html += `<div class="options">`;
    q.opts.forEach((opt, j) => {
      const letter = String.fromCharCode(65 + j);
      html += `
        <label class="opt" id="mopt_${i}_${j}">
          <input type="radio" name="mcq_${i}" value="${j}">
          <div><b>${letter}.</b> ${esc(opt)}</div>
        </label>
      `;
    });
    html += `</div>`;
    html += `<div class="answerBox" id="mans_${i}" style="display:none"></div>`;

    wrap.innerHTML = html;
    host.appendChild(wrap);
  });

  document.querySelectorAll('#mcq input[type="radio"]').forEach(r => r.disabled = false);
}

function submitMcq(){
  if(mcqSubmitted) return;
  mcqSubmitted = true;

  let score = 0;
  let attempted = 0;

  mcq.forEach((q, i) => {
    const sel = document.querySelector(`input[name='mcq_${i}']:checked`);
    const chosen = sel ? Number(sel.value) : null;
    if(chosen !== null) attempted++;

    for(let j=0;j<q.opts.length;j++){
      const label = document.getElementById(`mopt_${i}_${j}`);
      label.classList.add('dim');

      if(j === q.ans){
        label.classList.add('correct');
        label.classList.remove('dim');
        label.insertAdjacentHTML('beforeend', ` <span class="badge ok">Correct</span>`);
      }
    }

    if(chosen !== null && chosen !== q.ans){
      const chosenLabel = document.getElementById(`mopt_${i}_${chosen}`);
      chosenLabel.classList.add('wrong');
      chosenLabel.insertAdjacentHTML('beforeend', ` <span class="badge bad">Your choice</span>`);
    }

    if(chosen !== null && chosen === q.ans) score++;

    const ab = document.getElementById(`mans_${i}`);
    ab.style.display = 'block';
    const yourText = (chosen === null) ? 'Not attempted' : q.opts[chosen];
    const correctText = q.opts[q.ans];
    ab.innerHTML = `<b>Your Answer:</b> ${esc(yourText)}<br><b>Correct Answer:</b> ${esc(correctText)}<br><b>Explanation:</b> ${esc(q.exp)}`;
  });

  document.getElementById('mcqScore').textContent = `Score: ${score} / ${mcq.length} (Attempted: ${attempted}/${mcq.length})`;
  document.querySelectorAll('#mcq input[type="radio"]').forEach(r => r.disabled = true);
  document.getElementById('submitMcqBtn').disabled = true;
}

// Pyodide examples
const EXAMPLES = {
  sum:
`n = int(input("Enter N: "))

i = 1
s = 0
while i <= n:
    s += i
    i += 1

print("Sum =", s)
`,
  reverse:
`n = int(input("Enter a number: "))
rev = 0

while n > 0:
    digit = n % 10
    rev = rev * 10 + digit
    n //= 10

print("Reverse =", rev)
`,
  menu:
`choice = 0
while choice != 3:
    print("1) Add")
    print("2) Subtract")
    print("3) Exit")
    choice = int(input("Enter choice: "))

    if choice == 1:
        a = int(input("a: "))
        b = int(input("b: "))
        print("Sum =", a + b)
    elif choice == 2:
        a = int(input("a: "))
        b = int(input("b: "))
        print("Diff =", a - b)
    elif choice == 3:
        print("Bye")
    else:
        print("Invalid choice")
`
};

let pyReady = null;
async function runPy(){
  const out = document.getElementById('pyOut');
  const st = document.getElementById('pyStatus');
  out.textContent = '';

  try{
    if(!pyReady){
      await ensurePyodideLoaded();
      const indexURL = window.__PYODIDE_INDEX_URL__ || "https://cdn.jsdelivr.net/pyodide/v0.26.2/full/";
      if(st) st.textContent = 'Initializing runtime...';
      pyReady = await loadPyodide({
        indexURL,
        stdout: s => out.textContent += s + "\n",
        stderr: s => out.textContent += s + "\n"
      });
      if(st) st.textContent = 'Ready.';
      pyReady.globals.set('input', prompt);
    }
    await pyReady.runPythonAsync(document.getElementById('pyCode').value);
  }catch(e){
    out.textContent += "\nError: " + e;
    if(st) st.textContent = 'Error';
  }
}

// Wire up
document.getElementById('newMcqBtn').addEventListener('click', buildMcq);
document.getElementById('submitMcqBtn').addEventListener('click', submitMcq);
document.getElementById('runPyBtn').addEventListener('click', runPy);
document.querySelectorAll('[data-load]').forEach(btn => {
  btn.addEventListener('click', () => {
    const key = btn.getAttribute('data-load');
    document.getElementById('pyCode').value = EXAMPLES[key] || '';
  });
});

// Init
buildMcq();
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Snake & Ladders â€” Play Online</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
:root{
  --bg:#fff7e6;
  --card:#ffffff;
  --ink:#1f2937;
  --muted:#6b7280;
  --brand:#d97706;
  --brand2:#f59e0b;
  --border:#eadcc5;
  --shadow:0 18px 40px rgba(31,41,55,.14);
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg);
  color:var(--ink);
}

.wrapper{
  max-width:1100px;
  margin:auto;
  padding:16px;
}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;
  box-shadow:var(--shadow);
  padding:14px;
}

h1{
  margin:0 0 10px;
  font-size:22px;
}

.board-wrap{
  display:grid;
  grid-template-columns:1fr 320px;
  gap:14px;
}

canvas{
  width:100%;
  aspect-ratio:1/1;
  border-radius:14px;
  border:1px solid var(--border);
  background:#fff;
}

.panel b{display:block;color:var(--muted);font-size:12px}
.panel span{font-size:20px;font-weight:800}

.panel{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  margin-bottom:12px;
}

button{
  width:100%;
  padding:12px;
  border-radius:14px;
  border:1px solid var(--border);
  background:linear-gradient(180deg,var(--brand2),var(--brand));
  color:#fff;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
}

button.secondary{
  background:#fff;
  color:var(--ink);
}

.log{
  margin-top:10px;
  border:1px dashed var(--border);
  border-radius:14px;
  padding:10px;
  font-size:13px;
  max-height:220px;
  overflow:auto;
}

.footer{
  margin-top:10px;
  font-size:13px;
  color:var(--muted);
}
@media(max-width:900px){
  .board-wrap{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="wrapper">
  <div class="card">
    <h1>ğŸ Snake & ğŸªœ Ladders</h1>

    <div class="board-wrap">
      <canvas id="board" width="900" height="900"></canvas>

      <div>
        <div class="panel">
          <div class="card"><b>Position</b><span id="pos">1</span></div>
          <div class="card"><b>Dice</b><span id="dice">â€“</span></div>
          <div class="card"><b>Moves</b><span id="moves">0</span></div>
          <div class="card"><b>Best</b><span id="best">â€“</span></div>
        </div>

        <button id="roll">ğŸ² Roll Dice</button>
        <button class="secondary" id="reset">ğŸ” New Game</button>

        <div class="log" id="log">Game ready. Roll the dice!</div>
      </div>
    </div>

    <div class="footer">
      Reach exactly <b>100</b> to win. Ladders help, snakes bite ğŸ˜„  
      Progress auto-saves in browser.
    </div>
  </div>
</div>

<script>
const canvas = document.getElementById("board");
const ctx = canvas.getContext("2d");

const posEl = document.getElementById("pos");
const diceEl = document.getElementById("dice");
const movesEl = document.getElementById("moves");
const bestEl = document.getElementById("best");
const logEl = document.getElementById("log");

const SIZE = 10;
const END = 100;

const ladders = {4:14, 9:31, 20:38, 28:84, 40:59, 63:81, 71:91};
const snakes  = {17:7, 54:34, 62:19, 87:36, 95:75, 99:78};

let state = JSON.parse(localStorage.getItem("sl_game")) || {
  pos:1, moves:0, best:null
};

function save(){localStorage.setItem("sl_game", JSON.stringify(state));}

function rc(n){
  let i=n-1,r=Math.floor(i/10),c=i%10;
  if(r%2)c=9-c;
  return {r,c};
}

function center(n){
  const {r,c}=rc(n);
  const w=canvas.width/10;
  const h=canvas.height/10;
  return {x:(c+.5)*w,y:canvas.height-(r+.5)*h};
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  const w=canvas.width/10,h=canvas.height/10;

  for(let r=0;r<10;r++)for(let c=0;c<10;c++){
    ctx.fillStyle=(r+c)%2?"#fff3d6":"#fffaf0";
    ctx.fillRect(c*w,canvas.height-(r+1)*h,w,h);
    ctx.strokeStyle="#eadcc5";
    ctx.strokeRect(c*w,canvas.height-(r+1)*h,w,h);
  }

  ctx.fillStyle="#6b7280";
  ctx.font="16px Arial";
  for(let n=1;n<=100;n++){
    const p=center(n);
    ctx.fillText(n,p.x-18,p.y-28);
  }

  for(let k in ladders)link(k,ladders[k],"#f59e0b");
  for(let k in snakes) link(k,snakes[k],"#b91c1c");

  const p=center(state.pos);
  ctx.beginPath();
  ctx.arc(p.x,p.y,18,0,Math.PI*2);
  ctx.fillStyle="#d97706";
  ctx.fill();
  ctx.fillStyle="#fff";
  ctx.font="18px Arial";
  ctx.fillText("â—",p.x-5,p.y+6);
}

function link(a,b,color){
  const p1=center(a),p2=center(b);
  ctx.strokeStyle=color;
  ctx.lineWidth=8;
  ctx.beginPath();
  ctx.moveTo(p1.x,p1.y);
  ctx.lineTo(p2.x,p2.y);
  ctx.stroke();
}

function log(msg){logEl.innerHTML=msg+"<br>"+logEl.innerHTML;}

function update(){
  posEl.textContent=state.pos;
  movesEl.textContent=state.moves;
  bestEl.textContent=state.best??"â€“";
  draw(); save();
}

document.getElementById("roll").onclick=()=>{
  let d=Math.floor(Math.random()*6)+1;
  diceEl.textContent=d;
  log("ğŸ² Rolled "+d);
  let t=state.pos+d;
  if(t>100){log("Exact 100 needed");return;}
  state.pos=t; state.moves++;

  if(ladders[state.pos]){
    log("ğŸªœ Ladder!");
    state.pos=ladders[state.pos];
  }else if(snakes[state.pos]){
    log("ğŸ Snake!");
    state.pos=snakes[state.pos];
  }

  if(state.pos===100){
    log("ğŸ‘‘ YOU WON!");
    if(!state.best||state.moves<state.best)state.best=state.moves;
  }
  update();
};

document.getElementById("reset").onclick=()=>{
  state.pos=1;state.moves=0;
  diceEl.textContent="â€“";
  log("ğŸ” New game");
  update();
};

update();
</script>
</body>
</html>